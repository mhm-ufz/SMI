VL 0 0 4 0 0 0
MODULE INPUTOUTPUT,0 0 0
FILE 0,/Users/thober/lib/smi/src/InputOutput.f90
USE MO_GLOBAL_VARIABLES 2,ONLY:PERIOD=>PERIOD
USE MO_KIND 2,ONLY:DP=>DP,SP=>SP,I4=>I4
REF DP(DP@MO_KIND),1
REF I4(I4@MO_KIND),1
VAR NINTERAREA,1,,: 1,4,3,0,0,0,101,1,0,0,0
VAR IDCLUSTER,1,,: 1,4,3,0,1,0,401,1 (3,8,0: 5,3,1,0,5,3,1,0,5,3,1,0),1000000,1000,0
PARAMETER NBASINS: 1,4,3,0,0,0,4101,1,0,0,0
= 6
VAR NLARGEREVENTS,1,,: 1,4,3,0,0,0,4101,1,0,0,0
PARAMETER QPROP: 2,8,5,0,1,0,4101,1 (1,1,3: 1,1,1,3),0,0,0
= 0 40568000
= 0 40580000
= 0 40588000
PARAMETER NQPROP: 1,4,3,0,0,0,4101,1,0,0,0
= 3
PARAMETER DURLIST: 1,4,3,0,1,0,4001,1 (1,1,4: 1,1,1,4),0,0,0
= 3
= 6
= 9
= 12
PARAMETER NDURATIONS: 1,4,3,0,0,0,4101,1,0,0,0
= 4
VAR DASEVOL,1,,: 2,8,5,0,1,0,501,1 (3,8,0: 5,3,1,0,5,3,1,0,5,3,1,0),1000000,0,0
VAR SEVERITY,1,,: 2,8,5,0,1,0,401,1 (3,8,0: 5,3,1,0,5,3,1,0,5,3,1,0),1000000,0,0
VAR NDSTEPS,1,,: 1,4,3,0,0,0,1,1,0,0,0
VAR SADPERC,1,,: 2,8,5,0,1,0,501,1 (2,8,0: 5,3,1,0,5,3,1,0),1000000,0,0
VAR SAD,1,,: 2,8,5,0,1,0,501,1 (3,8,0: 5,3,1,0,5,3,1,0,5,3,1,0),1000000,0,0
VAR TDM,1,,: 2,8,5,0,1,0,501,1 (1,8,0: 5,3,1,0),1000000,0,0
VAR ADA,1,,: 2,8,5,0,1,0,501,1 (1,8,0: 5,3,1,0),1000000,0,0
VAR ADD,1,,: 2,8,5,0,1,0,501,1 (1,8,0: 5,3,1,0),1000000,0,0
VAR DTMAGEVOL,1,,: 2,8,5,0,1,0,501,1 (2,8,0: 5,3,1,0,5,3,1,0),1000000,0,0
VAR DAREAEVOL,1,,: 2,8,5,0,1,0,501,1 (2,8,0: 5,3,1,0,5,3,1,0),1000000,0,0
VAR EIDPERM,1,,: 1,4,3,0,1,0,501,1 (1,8,0: 5,3,1,0),1000000,0,0
VAR NCLUSTERS,1,,: 1,4,3,0,0,0,101,1,0,0,0
VAR EVENTID,1,,: 1,4,3,0,1,0,501,1 (2,8,0: 5,3,1,0,5,3,1,0),1000000,0,0
VAR SHORTCNOLIST,1,,: 1,4,3,0,1,0,501,1 (1,8,0: 5,3,1,0),1000000,0,0
VAR NEVENTS,1,,: 1,4,3,0,0,0,101,1,0,0,0
PROC WRITERESULTSCLUSTER,10,8,0,17,0: 8,0,0,0,0,0,40200,1,0,0,0
USE MO_SMI_CONSTANTS 2,ONLY:YEARMONTHS=>YEARMONTHS
USE MO_KIND 2,ONLY:DP=>DP,I4=>I4
VAR SMIC,3,,: 1,4,3,0,1,0,103,0 (3,5,0: 5,3,1,0,5,3,1,0,5,3,1,0),0,0,1
VAR OUTPATH,3,,: 3,1,a,-1,0,0,3,0,0,0,1
VAR WFLAG,3,,: 1,4,3,0,0,0,103,0,0,0,1
VAR YSTART,3,,: 1,4,3,0,0,0,103,0,0,0,1
VAR YEND,3,,: 1,4,3,0,0,0,103,0,0,0,1
VAR NMONTHS,3,,: 1,4,3,0,0,0,103,0,0,0,1
VAR NCELLS,3,,: 1,4,3,0,0,0,3,0,0,0,1
VAR DELTAAREA,3,,: 1,4,3,0,0,0,103,0,0,0,1
VAR CELLSIZE,3,,: 2,4,4,0,0,0,3,0,0,0,1
VAR D,3,,: 1,4,3,0,0,0,113,0,0,0,1
ENDPROC
PROC WRITENETCDF,8,8,0,17,0: 8,0,0,0,0,0,40200,1,0,0,0
USE MO_NETCDF 2,ONLY:NCDIMENSION=>NCDIMENSION,NCVARIABLE=>NCVARIABLE,NCDATASET=>NCDATASET
USE MO_SMI_CONSTANTS 2,ONLY:NODATA_SP=>NODATA_SP,NODATA_DP=>NODATA_DP,NODATA_I4=>NODATA_I4
USE MO_STRING_UTILS 2,ONLY:NUM2STR=>NUM2STR
USE MO_KIND 2,ONLY:I4=>I4
VAR OUTPATH,3,,: 3,1,a,-1,0,0,3,0,0,0,1
VAR WFLAG,3,,: 1,4,3,0,0,0,103,0,0,0,1
VAR PER,3,,: 7,PERIOD,b,0,0,0,103,0,0,0,1
VAR LATS,3,,: 2,8,5,0,1,0,403,0 (2,8,0: 5,3,1,0,5,3,1,0),1000000,1000,1
VAR LONS,3,,: 2,8,5,0,1,0,403,0 (2,8,0: 5,3,1,0,5,3,1,0),1000000,1000,1
VAR SMIC,3,,: 1,4,3,0,1,0,13,0 (3,5,0: 5,3,1,0,5,3,1,0,5,3,1,0),0,1000,1
VAR SM_INVERT,3,,: 2,4,4,0,1,0,13,0 (3,5,0: 5,3,1,0,5,3,1,0,5,3,1,0),0,1000,1
VAR DURATION,3,,: 1,4,3,0,0,0,113,0,0,0,1
ENDPROC
PROC WRITERESULTSBASINS,7,8,0,17,0: 8,0,0,0,0,0,40200,1,0,0,0
USE MO_SMI_CONSTANTS 2,ONLY:YEARMONTHS=>YEARMONTHS,NODATA_DP=>NODATA_DP
USE MO_KIND 2,ONLY:I4=>I4
VAR OUTPATH,3,,: 3,1,a,-1,0,0,3,0,0,0,1
VAR SMI,3,,: 2,4,4,0,1,0,103,0 (2,5,0: 5,3,1,0,5,3,1,0),0,0,1
VAR MASK,3,,: 4,4,7,0,1,0,3,0 (2,5,0: 5,3,1,0,5,3,1,0),0,0,1
VAR YSTART,3,,: 1,4,3,0,0,0,103,0,0,0,1
VAR YEND,3,,: 1,4,3,0,0,0,103,0,0,0,1
VAR NMONTHS,3,,: 1,4,3,0,0,0,103,0,0,0,1
VAR BASIN_ID,3,,: 1,4,3,0,1,0,103,0 (2,5,0: 5,3,1,0,5,3,1,0),0,0,1
ENDPROC
PROC WRITESMI,8,8,0,17,0: 8,0,0,0,0,0,40200,1,0,0,0
USE MO_NETCDF 2,ONLY:NCDIMENSION=>NCDIMENSION,NCVARIABLE=>NCVARIABLE,NCDATASET=>NCDATASET
USE MO_JULIAN 2,ONLY:DEC2DATE=>DEC2DATE,NDYIN=>NDYIN,NDAYS=>NDAYS
USE MO_SMI_CONSTANTS 2,ONLY:NODATA_DP=>NODATA_DP,NODATA_SP=>NODATA_SP
USE MO_STRING_UTILS 2,ONLY:NUM2STR=>NUM2STR
USE MO_KIND 2,ONLY:SP=>SP,I4=>I4
VAR OUTPATH,3,,: 3,1,a,-1,0,0,3,0,0,0,1
VAR SMI,3,,: 2,4,4,0,1,0,103,0 (2,5,0: 5,3,1,0,5,3,1,0),0,0,1
VAR MASK,3,,: 4,4,7,0,1,0,3,0 (2,5,0: 5,3,1,0,5,3,1,0),0,0,1
VAR PER,3,,: 7,PERIOD,b,0,0,0,103,0,0,0,1
VAR NCALENDARSTEPSYEAR,3,,: 1,4,3,0,0,0,103,0,0,0,1
VAR LATS,3,,: 2,8,5,0,1,0,403,0 (2,8,0: 5,3,1,0,5,3,1,0),1000000,1000,1
VAR LONS,3,,: 2,8,5,0,1,0,403,0 (2,8,0: 5,3,1,0,5,3,1,0),1000000,1000,1
VAR HH,3,,: 2,8,5,0,1,0,113,0 (2,5,0: 5,3,1,0,5,3,1,0),0,0,1
ENDPROC
END
